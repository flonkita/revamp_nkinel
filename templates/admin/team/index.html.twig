{% extends 'admin/base.html.twig' %}

{% block title %}Team
{% endblock %}

{% block content %}
	<div class="container-fluid">

		<h1 class="h3 mb-0 text-gray-800">Mon Ã©quipe</h1>

		<p class="mb-4">Ajouter,modifier et supprimer des membres de votre team.</p>

		<!-- DataTales Example -->
		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<h6 class="m-0 font-weight-bold text-success">
					<a href="{{path('admin_new_team')}}" class="m-0 font-weight-bold text-success ">Ajouter un membre</a>
				</h6>
			</div>
			<div class="card-body">
				<div class="table-responsive">
					<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
						<thead>
							<tr>
								<th>ID</th>
								<th>Nom</th>
								<th>Image</th>
								<th colspan="2">Action</th>
							</tr>
						</thead>
						<tfoot>
							<tr>
								<th>ID</th>
								<th>Nom</th>
								<th>Image</th>
								<th colspan="2">Action</th>
							</tr>
						</tfoot>
						<tbody>
							{% for team in teams %}

								<tr>


									<td>{{team.id}}</td>
									<td>{{team.name}}</td>
									<td><div class="text-center">
										<img src="{{ asset('assets/uploads/' ~ team.image) }}" alt="" class="nk-img-stretch rounded float-center" style ="max-width:256px; max-height:256px">
										</div>
									</td>

									<td>
										<a href="{{path('admin_delete_team',{'id':team.id})}}" class="btn btn-danger btn-icon-split">
											<span class="icon text-white-50">
												<i class="fas fa-trash"></i>
											</span>


										</a>
										<a href="{{path('admin_edit_team',{'id':team.id})}}" class="btn btn-warning btn-icon-split">
											<span class="icon text-white-50">
												<i class="fa-solid fa-pen-to-square"></i>
											</span>
										</a>
									</td>

								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>

	</div>
{% endblock %}
{% block script_js %}
	{% if app.session.flashBag.has('delete_team') %}
		<script>
			Toastify({
text: "{{ app.session.flashBag.get('delete_team')[0] }}",
duration: 3000,
destination: "https://github.com/apvarun/toastify-js",
newWindow: true,
close: true,
gravity: "top",
position: "center",
stopOnFocus: true,
style: {
background: "linear-gradient(to right, #FF0000, #DC143C)"
}
}).showToast();
		</script>
	{% endif %}
	{% if app.session.flashBag.has('create_team') %}
		<script>
			Toastify({
text: "{{ app.session.flashBag.get('create_team')[0] }}",
duration: 3000,
destination: "https://github.com/apvarun/toastify-js",
newWindow: true,
close: true,
gravity: "top",
position: "center",
stopOnFocus: true,
style: {
background: "linear-gradient(to right, #03C03C, #50C878)"
}
}).showToast();
		</script>
	{% endif %}
	{% if app.session.flashBag.has('edit_team') %}
		<script>
			Toastify({
text: "{{ app.session.flashBag.get('edit_team')[0] }}",
duration: 3000,
destination: "https://github.com/apvarun/toastify-js",
newWindow: true,
close: true,
gravity: "top",
position: "center",
stopOnFocus: true,
style: {
background: "linear-gradient(to right, #FEBE10, #F0E68C)"
}
}).showToast();
		</script>
	{% endif %}
{% endblock %}
